\documentclass[10pt, twocolumn]{article}
%% Language and font encodings
\usepackage[british]{babel}

\usepackage[T1]{fontenc}

%% Sets page size and margins
\usepackage[a4paper,top=3cm,bottom=3cm,left=2cm,right=2cm]{geometry}

\setlength{\columnsep}{12pt}

\usepackage{amsmath,amssymb}  % Better maths support & more symbols
\usepackage{bm}  % Define \bm{} to use bold math fonts
\usepackage{mathtools}

\usepackage[shortlabels]{enumitem}
\usepackage[normalem]{ulem}

\usepackage[utf8]{inputenc} % Any characters can be typed directly from the keyboard, eg ÃÂ©ÃÂ§ÃÂ±
\DeclareUnicodeCharacter{2212}{-}

\usepackage{parskip}
\usepackage{graphicx}
\graphicspath{{figures/}}

\usepackage{subcaption}

\usepackage{tabularx}

\usepackage{hyperref}
\urlstyle{same}

% \renewcommand{\cfttoctitlefont}{\fontsize{12}{15}\selectfont\bfseries}
% \renewcommand\cftsecfont{\small}
% \renewcommand\cftsecafterpnum{\vskip 0pt}
% \renewcommand\cftsecpagefont{\small}

\usepackage{pdfsync}  % enable tex source and pdf output synchronicity


\usepackage{fancyhdr}
\fancypagestyle{first}{
	\fancyhf{} % clear all header and footers
	\renewcommand{\headrulewidth}{0pt} % remove the line
	\setlength{\footskip}{50pt}
	\fancyfoot[C]{\thepage}

}

\fancypagestyle{plain}{
	\fancyhf{} % clear all header and footers
	% \renewcommand{\headrulewidth}{0pt} % remove the line
	% \setlength{\headheight}{5pt}
	\setlength{\footskip}{50pt}
	\fancyfoot[C]{\thepage}
	\fancyhead[C]{\textbf{\svsubject—\svshortsubject{}\ (ks830)}}
}

\def\svauthor{Kamilė Stankevičiūtė (\texttt{ks830})}
\def\college{Gonville \& Caius College}
\def\svsubject{Data Science: Principles and Practice}
\def\svshortsubject{Final Assignment B}

\usepackage{pdfpages}
\usepackage{float}
\usepackage{stfloats}

% \usepackage{minted}
% \usemintedstyle{colorful}

\begin{document}

\thispagestyle{first}
\pagestyle{plain}
\twocolumn[{
\begin{center}
\LARGE
\textbf{Data Science: Principles and Practice \\ Final Assignment B} \\[4mm]

\large
Kamilė Stankevičiūtė (\texttt{ks830}) \\ Gonville \& Caius College \\[4mm]

% \today % October 2019
\end{center} \vskip10mm}]


\section{Data preparation}

I use the raw data (\textit{diabetic\_data\_original.csv}) of the same medical care record dataset \cite{strack2014dataset} as in Assignment A. The following section describes the changes in preprocessing steps with respect to the previous Assignment.

\paragraph{Filtering}
Due to the nature of the prediction task, only the patients with at least two recorded encounters will be considered. After filtering, the dataset contains 47021 encounters from 16773 unique patients. This is a much larger number of examples with any single patient contributing to a relatively small proportion of the dataset (compared to the dataset in Assignment A). This makes overfitting less likely, which is why in this case I allow multiple examples per patient. 

\paragraph{Anonymisation} As before, the encounter and patient numbers will be removed for training, but will be used to generate the \texttt{length\_of\_next\_stay} feature.

\paragraph{Missing values} In the larger dataset, the features with most values missing are \textit{weight} (98.6\% missing) and \textit{medical specialty} (51.0\%), which I will not use for training.

\paragraph{Unknown values, numerical and categorical features} No changes in processing compared to Assignment A: the features are converted to numeric or categorical values based on their true meaning. Diagnoses are first grouped into categories to avoid a large number of features with small number of examples. The numerical and categorical features are normalised and one-hot encoded respectively.

\paragraph{Feature sets} Since the dataset is larger and the neural network models more powerful, I will train on the full feature set, leaving feature extraction to the model.

\section{Machine learning set-up}

\subsection{Training and holdout set split}
This section describes measures taken to avoid data leakage between train and holdout sets and train a generalisable model.

\paragraph{Patient separation} In this assignment multiple encounters corresponding to the same patient will be used. To make sure the model does not identify and overfit to particular patients, the examples corresponding to the same patient should be either in training or holdout set but not both.

TODO \paragraph{(some more specific criterion)} t-SNE has shown...


\subsection{Loss function}

\section{Neural network architecture}

TODO description of neural network architecture


\subsection{Hyperparameters}
I generally tried to use the default hyperparameters. 

The hyperparameters used for each classifier can be found in \texttt{training.py} script.

\section{Results}
TODO table and comparison of results, insights on which model is the best
\subsection{Predictive power}
TODO 5-fold cross-validation... 

\subsection{Impact of PCA on training performance}

\section{Evaluation}
TODO Evaluate the predictive power of the best model on the holdout set.


\medskip
 
\bibliographystyle{unsrt}
\bibliography{ks830_report_b}

\end{document}